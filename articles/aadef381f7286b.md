---
title: "FlutterÃ—Firebaseã§ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®é…åˆ—ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹æ–¹æ³•"
emoji: "ğŸ§"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Flutter", "Firebase"]
published: false
---

StatefulWidget ã®ä¸­ã§ã„ã¤ã‚‚ã®ã‚ˆã†ã«ãƒ‡ãƒ¼ã‚¿ã‚’å¼•ã£å¼µã£ã¦ãã‚‹

```flutter
Future<Map<String, dynamic>> myBook() async {
    final snapshot = await FirebaseFirestore.instance.collection('users').get();
    final document = snapshot.docs.first.data();
    return document;
  }


  List<Map<String, dynamic>> mapBookmark = [];

  @override
  void initState() {
    super.initState();
    myBook().then(
      (Map<String, dynamic> value) async {
        final bookmarkList = value['bookmark'] as List;
        mapBookmark = await Future.wait(
          bookmarkList.map(
            (e) async {
              final doc = await (e as DocumentReference).get();
              return doc.data();
            },
          ).toList(),
        );
        setState(() {});
      },
    );
  }
```
